fetch("https://scratchaddons-feedback.glitch.me/",{mode:"no-cors"});const version=new URL(location.href).searchParams.get("version"),setStatus=(e,t)=>{const a=document.querySelector("#feedback-status");a.textContent=e,a.hidden=!1,a.classList.remove([...a.classList].filter(e=>/alert-/.exec(e))[0]),a.classList.add(`alert-${t}`)};document.querySelector("#feedback-form").onsubmit=(async e=>{e.preventDefault(),setStatus("Sending...","primary"),document.querySelector("#feedback-username").readOnly=!0,document.querySelector("#feedback-content").readOnly=!0,document.querySelector("#feedback-submit").disabled=!0;const t={version:version,userAgent:navigator.userAgent,language:navigator.language,content:document.querySelector("#feedback-content").value,username:document.querySelector("#feedback-username").value};try{if(!(await fetch("https://scratchaddons-feedback.glitch.me/send",{method:"POST",body:JSON.stringify(t)})).ok)throw"";setTimeout(()=>document.querySelector("#feedback-submit").disabled=!1,1e4),setStatus("Sent! Thanks for the feedback.","success")}catch(a){setStatus("Error sending feedback! Try again?","danger"),document.querySelector("#feedback-submit").disabled=!1}document.querySelector("#feedback-username").readOnly=!1,document.querySelector("#feedback-content").readOnly=!1}),window.addEventListener("load",()=>document.querySelector("textarea").focus());